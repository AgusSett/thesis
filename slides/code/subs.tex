%<*ren-type>
\begin{code}%
	\>[0]\AgdaFunction{Rename}\AgdaSpace{}%
	\AgdaSymbol{:}\AgdaSpace{}%
	\AgdaDatatype{Context}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaDatatype{Context}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaPrimitive{Set}\<%
	\\
	\>[0]\AgdaFunction{Rename}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaSymbol{=}\AgdaSpace{}%
	\AgdaSymbol{∀\{}\AgdaBound{A}\AgdaSymbol{\}}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaOperator{\AgdaDatatype{∋}}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaOperator{\AgdaDatatype{∋}}\AgdaSpace{}%
	\AgdaBound{A}\<%
	\\
\end{code}
%</ren-type>

%<*subs-type>
\begin{code}
	\>[0]\AgdaFunction{Subst}\AgdaSpace{}%
	\AgdaSymbol{:}\AgdaSpace{}%
	\AgdaDatatype{Context}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaDatatype{Context}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaPrimitive{Set}\<%
	\\
	\>[0]\AgdaFunction{Subst}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaSymbol{=}\AgdaSpace{}%
	\AgdaSymbol{∀\{}\AgdaBound{A}\AgdaSymbol{\}}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaOperator{\AgdaDatatype{∋}}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaOperator{\AgdaDatatype{⊢}}\AgdaSpace{}%
	\AgdaBound{A}\<%
	\\
\end{code}
%</subs-type>

%<*ids>
\begin{code}
	\>[0]\AgdaFunction{ids}\AgdaSpace{}%
	\AgdaSymbol{:}\AgdaSpace{}%
	\AgdaSymbol{∀\{}\AgdaBound{Γ}\AgdaSymbol{\}}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaFunction{Subst}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{Γ}\<%
	\\
	\>[0]\AgdaFunction{ids}\AgdaSpace{}%
	\AgdaBound{x}\AgdaSpace{}%
	\AgdaSymbol{=}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
	\AgdaBound{x}\<%
	\\
\end{code}
%</ids>

%<*cons>
\begin{code}
	\>[0]\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}•\AgdaUnderscore{}}}\AgdaSpace{}%
	\AgdaSymbol{:}\AgdaSpace{}%
	\AgdaSymbol{∀\{}\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSymbol{\}}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaOperator{\AgdaDatatype{⊢}}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSymbol{)}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaFunction{Subst}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaFunction{Subst}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSymbol{)}\AgdaSpace{}%
	\AgdaBound{Δ}\<%
	\\
	\>[0]\AgdaSymbol{(}\AgdaBound{M}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{•}}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSymbol{)}\AgdaSpace{}%
	\AgdaInductiveConstructor{Z}\AgdaSpace{}%
	\>[1]\AgdaSymbol{=}\AgdaSpace{}%
	\AgdaBound{M}\<%
	\\
	\>[0]\AgdaSymbol{(}\AgdaBound{M}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{•}}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSymbol{)}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{S}}\AgdaSpace{}%
	\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
	\>[1]\AgdaSymbol{=}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaBound{x}\<%
\end{code}
%</cons>

\begin{code}
	\\[\AgdaEmptyExtraSkip]%
	\>[0]\AgdaFunction{ext}\AgdaSpace{}%
	\AgdaSymbol{:}\AgdaSpace{}%
	\AgdaSymbol{∀}\AgdaSpace{}%
	\AgdaSymbol{\{}\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSymbol{\}}\<%
	\\
	\>[0][@{}l@{\AgdaIndent{0}}]%
	\>[2]\AgdaSymbol{→}%
	\>[87I]\AgdaFunction{Rename}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{Δ}\<%
	\\
	\>[.][@{}l@{}]\<[87I]%
	\>[4]\AgdaComment{--------------------}\<%
	\\
	%
	\>[2]\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaFunction{Rename}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSymbol{)}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSymbol{)}\<%
	\\
	\>[0]\AgdaFunction{ext}\AgdaSpace{}%
	\AgdaBound{ρ}\AgdaSpace{}%
	\AgdaInductiveConstructor{Z}%
	\>[13]\AgdaSymbol{=}%
	\>[16]\AgdaInductiveConstructor{Z}\<%
	\\
	\>[0]\AgdaFunction{ext}\AgdaSpace{}%
	\AgdaBound{ρ}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{S}}\AgdaSpace{}%
	\AgdaBound{x}\AgdaSymbol{)}%
	\>[13]\AgdaSymbol{=}%
	\>[16]\AgdaOperator{\AgdaInductiveConstructor{S}}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaBound{ρ}\AgdaSpace{}%
	\AgdaBound{x}\AgdaSymbol{)}\<%
	\\
\end{code}

%<*rename>
\begin{code}
	\>[0]\AgdaFunction{rename}\AgdaSpace{}%
	\AgdaSymbol{:}\AgdaSpace{}%
	\AgdaSymbol{∀}\AgdaSpace{}%
	\AgdaSymbol{\{}\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSymbol{\}}\AgdaSpace{}
	\AgdaSymbol{→}\AgdaSpace{}
	\AgdaFunction{Rename}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSpace{}
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaOperator{\AgdaDatatype{⊢}}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaOperator{\AgdaDatatype{⊢}}\AgdaSpace{}%
	\AgdaBound{A}\<%
	\\
	\>[0]\AgdaFunction{rename}\AgdaSpace{}%
	\AgdaBound{ρ}\AgdaSpace{}%
	\AgdaBound{N}\AgdaSpace{}%
	\>[24]\AgdaSymbol{=}\AgdaSpace{}%
	\dots\<%
\end{code}
%</rename>

\begin{code}
	\>[0]\AgdaFunction{rename}\AgdaSpace{}%
	\AgdaBound{ρ}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{ƛ}}\AgdaSpace{}%
	\AgdaBound{N}\AgdaSymbol{)}%
	\>[24]\AgdaSymbol{=}%
	\>[27]\AgdaOperator{\AgdaInductiveConstructor{ƛ}}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaFunction{rename}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaFunction{ext}\AgdaSpace{}%
	\AgdaBound{ρ}\AgdaSymbol{)}\AgdaSpace{}%
	\AgdaBound{N}\AgdaSymbol{)}\<%
	\\
	\>[0]\AgdaFunction{rename}\AgdaSpace{}%
	\AgdaBound{ρ}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaBound{L}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{·}}\AgdaSpace{}%
	\AgdaBound{M}\AgdaSymbol{)}%
	\>[24]\AgdaSymbol{=}%
	\>[27]\AgdaSymbol{(}\AgdaFunction{rename}\AgdaSpace{}%
	\AgdaBound{ρ}\AgdaSpace{}%
	\AgdaBound{L}\AgdaSymbol{)}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{·}}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaFunction{rename}\AgdaSpace{}%
	\AgdaBound{ρ}\AgdaSpace{}%
	\AgdaBound{M}\AgdaSymbol{)}\<%
	\\
	\>[0]\AgdaFunction{rename}\AgdaSpace{}%
	\AgdaBound{ρ}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{⟨}}\AgdaSpace{}%
	\AgdaBound{M}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
	\AgdaBound{N}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{⟩}}%
	\>[24]\AgdaSymbol{=}%
	\>[27]\AgdaOperator{\AgdaInductiveConstructor{⟨}}\AgdaSpace{}%
	\AgdaFunction{rename}\AgdaSpace{}%
	\AgdaBound{ρ}\AgdaSpace{}%
	\AgdaBound{M}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
	\AgdaFunction{rename}\AgdaSpace{}%
	\AgdaBound{ρ}\AgdaSpace{}%
	\AgdaBound{N}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{⟩}}\<%
	\\
	\>[0]\AgdaFunction{rename}\AgdaSpace{}%
	\AgdaBound{ρ}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaInductiveConstructor{π}\AgdaSpace{}%
	\AgdaBound{C}\AgdaSpace{}%
	\AgdaSymbol{\{}\AgdaBound{p}\AgdaSymbol{\}}\AgdaSpace{}%
	\AgdaBound{L}\AgdaSymbol{)}\AgdaSpace{}%
	\>[24]\AgdaSymbol{=}%
	\>[27]\AgdaInductiveConstructor{π}\AgdaSpace{}%
	\AgdaBound{C}\AgdaSpace{}%
	\AgdaSymbol{\{}\AgdaBound{p}\AgdaSymbol{\}}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaFunction{rename}\AgdaSpace{}%
	\AgdaBound{ρ}\AgdaSpace{}%
	\AgdaBound{L}\AgdaSymbol{)}\<%
	\\
	\>[0]\AgdaFunction{rename}\AgdaSpace{}%
	\AgdaBound{ρ}\AgdaSpace{}%
	\AgdaInductiveConstructor{⋆}%
	\>[24]\AgdaSymbol{=}%
	\>[27]\AgdaInductiveConstructor{⋆}\<%
	\\
	\>[0]\AgdaFunction{rename}\AgdaSpace{}%
	\AgdaBound{ρ}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{[}}\AgdaSpace{}%
	\AgdaBound{iso}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{]≡}}\AgdaSpace{}%
	\AgdaBound{N}\AgdaSymbol{)}%
	\>[24]\AgdaSymbol{=}%
	\>[27]\AgdaOperator{\AgdaInductiveConstructor{[}}\AgdaSpace{}%
	\AgdaBound{iso}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{]≡}}\AgdaSpace{}%
	\AgdaFunction{rename}\AgdaSpace{}%
	\AgdaBound{ρ}\AgdaSpace{}%
	\AgdaBound{N}\<%
\end{code}
%</rename>

%<*subst>
\begin{code}
	\>[0]\AgdaFunction{exts}\AgdaSpace{}%
	\AgdaSymbol{:}\AgdaSpace{}%
	\AgdaSymbol{∀}\AgdaSpace{}%
	\AgdaSymbol{\{}\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSymbol{\}}\<%
	\\
	\>[0][@{}l@{\AgdaIndent{0}}]%
	\>[2]\AgdaSymbol{→}%
	\>[185I]\AgdaFunction{Subst}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{Δ}\<%
	\\
	\>[.][@{}l@{}]\<[185I]%
	\>[4]\AgdaComment{--------------------}\<%
	\\
	%
	\>[2]\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaFunction{Subst}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSymbol{)}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSymbol{)}\<%
	\\
	\>[0]\AgdaFunction{exts}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaInductiveConstructor{Z}%
	\>[14]\AgdaSymbol{=}%
	\>[17]\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
	\AgdaInductiveConstructor{Z}\<%
	\\
	\>[0]\AgdaFunction{exts}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{S}}\AgdaSpace{}%
	\AgdaBound{x}\AgdaSymbol{)}%
	\>[14]\AgdaSymbol{=}%
	\>[17]\AgdaFunction{rename}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{S\AgdaUnderscore{}}}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaBound{σ}\AgdaSpace{}%
	\AgdaBound{x}\AgdaSymbol{)}\<%
	\\
	%
	\\[\AgdaEmptyExtraSkip]%
	\>[0]\AgdaFunction{subst}\AgdaSpace{}%
	\AgdaSymbol{:}\AgdaSpace{}%
	\AgdaSymbol{∀}\AgdaSpace{}%
	\AgdaSymbol{\{}\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSymbol{\}}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaFunction{Subst}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaSymbol{(∀}\AgdaSpace{}%
	\AgdaSymbol{\{}\AgdaBound{C}\AgdaSymbol{\}}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaOperator{\AgdaDatatype{⊢}}\AgdaSpace{}%
	\AgdaBound{C}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaOperator{\AgdaDatatype{⊢}}\AgdaSpace{}%
	\AgdaBound{C}\AgdaSymbol{)}\<%
	\\
	\>[0]\AgdaFunction{subst}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
	\AgdaBound{k}\AgdaSymbol{)}%
	\>[23]\AgdaSymbol{=}%
	\>[26]\AgdaBound{σ}\AgdaSpace{}%
	\AgdaBound{k}\<%
	\\
	\>[0]\AgdaFunction{subst}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{ƛ}}\AgdaSpace{}%
	\AgdaBound{N}\AgdaSymbol{)}%
	\>[23]\AgdaSymbol{=}%
	\>[26]\AgdaOperator{\AgdaInductiveConstructor{ƛ}}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaFunction{subst}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaFunction{exts}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSymbol{)}\AgdaSpace{}%
	\AgdaBound{N}\AgdaSymbol{)}\<%
	\\
	\>[0]\AgdaFunction{subst}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaBound{L}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{·}}\AgdaSpace{}%
	\AgdaBound{M}\AgdaSymbol{)}%
	\>[23]\AgdaSymbol{=}%
	\>[26]\AgdaSymbol{(}\AgdaFunction{subst}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaBound{L}\AgdaSymbol{)}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{·}}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaFunction{subst}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaBound{M}\AgdaSymbol{)}\<%
	\\
	\>[0]\AgdaFunction{subst}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{⟨}}\AgdaSpace{}%
	\AgdaBound{M}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
	\AgdaBound{N}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{⟩}}%
	\>[23]\AgdaSymbol{=}%
	\>[26]\AgdaOperator{\AgdaInductiveConstructor{⟨}}\AgdaSpace{}%
	\AgdaFunction{subst}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaBound{M}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
	\AgdaFunction{subst}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaBound{N}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{⟩}}\<%
	\\
	\>[0]\AgdaFunction{subst}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaInductiveConstructor{π}\AgdaSpace{}%
	\AgdaBound{C}\AgdaSpace{}%
	\AgdaSymbol{\{}\AgdaBound{p}\AgdaSymbol{\}}\AgdaSpace{}%
	\AgdaBound{L}\AgdaSymbol{)}\AgdaSpace{}%
	\>[23]\AgdaSymbol{=}%
	\>[26]\AgdaInductiveConstructor{π}\AgdaSpace{}%
	\AgdaBound{C}\AgdaSpace{}%
	\AgdaSymbol{\{}\AgdaBound{p}\AgdaSymbol{\}}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaFunction{subst}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaBound{L}\AgdaSymbol{)}\<%
	\\
	\>[0]\AgdaFunction{subst}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaInductiveConstructor{⋆}%
	\>[23]\AgdaSymbol{=}%
	\>[26]\AgdaInductiveConstructor{⋆}\<%
	\\
	\>[0]\AgdaFunction{subst}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{[}}\AgdaSpace{}%
	\AgdaBound{iso}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{]≡}}\AgdaSpace{}%
	\AgdaBound{N}\AgdaSymbol{)}%
	\>[23]\AgdaSymbol{=}%
	\>[26]\AgdaOperator{\AgdaInductiveConstructor{[}}\AgdaSpace{}%
	\AgdaBound{iso}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{]≡}}\AgdaSpace{}%
	\AgdaFunction{subst}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaBound{N}\<%
	\\
\end{code}

%<*subs>
\begin{code}
	\>[0]\AgdaOperator{\AgdaFunction{⟪\AgdaUnderscore{}⟫}}\AgdaUnderscore{}\AgdaSpace{}%
	\AgdaSymbol{:}\AgdaSpace{}%
	\AgdaSymbol{∀\{}\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSymbol{\}}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaFunction{Subst}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaOperator{\AgdaDatatype{⊢}}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaOperator{\AgdaDatatype{⊢}}\AgdaSpace{}%
	\AgdaBound{A}\<%
	\\
	\>[0]\AgdaOperator{\AgdaFunction{⟪}}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{⟫}}\AgdaSpace{}%
	\AgdaBound{M}\AgdaSpace{}
	\AgdaSymbol{=}\AgdaSpace{}%
	\dots\<%
	\\
\end{code}
%</subs>

%<*single>
\begin{code}
	\>[0]\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}[\AgdaUnderscore{}]}}\AgdaSpace{}%
	\AgdaSymbol{:}\AgdaSpace{}%
	\AgdaSymbol{∀}\AgdaSpace{}%
	\AgdaSymbol{\{}\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSpace{}%
	\AgdaBound{B}\AgdaSymbol{\}}\<%
	\\
	\>[0][@{}l@{\AgdaIndent{0}}]%
	\>[2]\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
	\AgdaBound{B}\AgdaSpace{}%
	\AgdaOperator{\AgdaDatatype{⊢}}\AgdaSpace{}%
	\AgdaBound{A}\<%
	\\
	%
	\>[2]\AgdaSymbol{→}%
	\>[316I]\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaOperator{\AgdaDatatype{⊢}}\AgdaSpace{}%
	\AgdaBound{B}\<%
	\\
	\>[.][@{}l@{}]\<[316I]%
	\>[4]\AgdaComment{---------}\<%
	\\
	%
	\>[2]\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaOperator{\AgdaDatatype{⊢}}\AgdaSpace{}%
	\AgdaBound{A}\<%
	\\
	\>[0]\AgdaBound{N}\AgdaSpace{}\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}
	\AgdaBound{M}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{]}}\AgdaSpace{}%
	\AgdaSymbol{=}%
	\>[24]\AgdaOperator{\AgdaFunction{⟪}}\AgdaSpace{}%
	\AgdaBound{M}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{•}}\AgdaSpace{}%
	\AgdaFunction{ids}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{⟫}}\AgdaSpace{}%
	\AgdaBound{N}\<%
\end{code}
%</single>

%<*exts>
\begin{code}
	\>[0]\AgdaFunction{exts}\AgdaSpace{}%
	\AgdaSymbol{:}\AgdaSpace{}%
	\AgdaSymbol{∀}\AgdaSpace{}%
	\AgdaSymbol{\{}\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSymbol{\}}\<%
	\\
	\>[0][@{}l@{\AgdaIndent{0}}]%
	\>[2]\AgdaSymbol{→}%
	\>[379I]\AgdaFunction{Subst}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{Δ}\<%
	\\
	\>[.][@{}l@{}]\<[379I]%
	\>[4]\AgdaComment{----------------------}\<%
	\\
	%
	\>[2]\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaFunction{Subst}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSymbol{)}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSymbol{)}\<%
	\\
	\>[0]\AgdaFunction{exts}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaSymbol{=}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
	\AgdaInductiveConstructor{Z}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{•}}\AgdaSpace{}%
	\AgdaFunction{↑}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{∘}}\AgdaSpace{}%
	\AgdaBound{σ}\<%
	\\
\end{code}
%</exts>

%<*shift>
\begin{code}
	\>[0]\AgdaFunction{↑}\AgdaSpace{}%
	\AgdaSymbol{:}\AgdaSpace{}%
	\AgdaSymbol{∀}\AgdaSpace{}%
	\AgdaSymbol{\{}\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSpace{}%
	\AgdaBound{B}\AgdaSymbol{\}}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaOperator{\AgdaDatatype{⊢}}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
	\AgdaBound{B}\AgdaSpace{}%
	\AgdaOperator{\AgdaDatatype{⊢}}\AgdaSpace{}%
	\AgdaBound{A}\<%
	\\
	\>[0]\AgdaFunction{↑}\AgdaSpace{}%
	\AgdaSymbol{=}\AgdaSpace{}%
	\AgdaSymbol{λ}\AgdaSpace{}%
	\AgdaBound{N}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaFunction{rename}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{S\AgdaUnderscore{}}}\AgdaSpace{}%
	\AgdaBound{N}\<%
	\\
\end{code}
%</shift>

%<*impl>
\begin{code}
	\>[0]\AgdaOperator{\AgdaFunction{⟪\AgdaUnderscore{}⟫\AgdaUnderscore{}}}\AgdaSpace{}%
	\AgdaSymbol{:}\AgdaSpace{}%
	\AgdaSymbol{∀\{}\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSymbol{\}}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaFunction{Subst}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaBound{Γ}\AgdaSpace{}%
	\AgdaOperator{\AgdaDatatype{⊢}}\AgdaSpace{}%
	\AgdaBound{A}\AgdaSpace{}%
	\AgdaSymbol{→}\AgdaSpace{}%
	\AgdaBound{Δ}\AgdaSpace{}%
	\AgdaOperator{\AgdaDatatype{⊢}}\AgdaSpace{}%
	\AgdaBound{A}\<%
	\\
	\>[0]\AgdaOperator{\AgdaFunction{⟪}}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{⟫}}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
	\AgdaBound{k}\AgdaSymbol{)}%
	\>[19]\AgdaSymbol{=}%
	\>[22]\AgdaBound{σ}\AgdaSpace{}%
	\AgdaBound{k}\<%
	\\
	\>[0]\AgdaOperator{\AgdaFunction{⟪}}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{⟫}}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{ƛ}}\AgdaSpace{}%
	\AgdaBound{N}\AgdaSymbol{)}%
	\>[19]\AgdaSymbol{=}%
	\>[22]\AgdaOperator{\AgdaInductiveConstructor{ƛ}}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaOperator{\AgdaFunction{⟪}}\AgdaSpace{}%
	\AgdaFunction{exts}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{⟫}}\AgdaSpace{}%
	\AgdaBound{N}\AgdaSymbol{)}\<%
	\\
	\>[0]\AgdaOperator{\AgdaFunction{⟪}}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{⟫}}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaBound{L}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{·}}\AgdaSpace{}%
	\AgdaBound{M}\AgdaSymbol{)}%
	\>[19]\AgdaSymbol{=}%
	\>[22]\AgdaSymbol{(}\AgdaOperator{\AgdaFunction{⟪}}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{⟫}}\AgdaSpace{}%
	\AgdaBound{L}\AgdaSymbol{)}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{·}}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaOperator{\AgdaFunction{⟪}}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{⟫}}\AgdaSpace{}%
	\AgdaBound{M}\AgdaSymbol{)}\<%
	\\
	\>[0]\AgdaOperator{\AgdaFunction{⟪}}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{⟫}}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{⟨}}\AgdaSpace{}%
	\AgdaBound{M}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
	\AgdaBound{N}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{⟩}}%
	\>[19]\AgdaSymbol{=}%
	\>[22]\AgdaOperator{\AgdaInductiveConstructor{⟨}}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{⟪}}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{⟫}}\AgdaSpace{}%
	\AgdaBound{M}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{⟪}}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{⟫}}\AgdaSpace{}%
	\AgdaBound{N}\AgdaSpace{}%
	\AgdaOperator{\AgdaInductiveConstructor{⟩}}\<%
	\\
	\>[0]\AgdaOperator{\AgdaFunction{⟪}}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{⟫}}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaInductiveConstructor{π}\AgdaSpace{}%
	\AgdaBound{C}\AgdaSpace{}%
	\AgdaSymbol{\{}\AgdaBound{p}\AgdaSymbol{\}}\AgdaSpace{}%
	\AgdaBound{L}\AgdaSymbol{)}%
	\>[19]\AgdaSymbol{=}%
	\>[22]\AgdaInductiveConstructor{π}\AgdaSpace{}%
	\AgdaBound{C}\AgdaSpace{}%
	\AgdaSymbol{\{}\AgdaBound{p}\AgdaSymbol{\}}\AgdaSpace{}%
	\AgdaSymbol{(}\AgdaOperator{\AgdaFunction{⟪}}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{⟫}}\AgdaSpace{}%
	\AgdaBound{L}\AgdaSymbol{)}\<%
	\\
	\>[0]\AgdaOperator{\AgdaFunction{⟪}}\AgdaSpace{}%
	\AgdaBound{σ}\AgdaSpace{}%
	\AgdaOperator{\AgdaFunction{⟫}}\AgdaSpace{}%
	\AgdaInductiveConstructor{⋆}%
	\>[19]\AgdaSymbol{=}%
	\>[22]\AgdaInductiveConstructor{⋆}\<%
	\\
\end{code}
%</impl>